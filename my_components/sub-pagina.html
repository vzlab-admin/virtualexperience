<link rel="import" href="../bower_components/polymer/polymer.html" />

<dom-module id="sub-pagina">
    <style>
        :host{
            display:block;
            position:absolute;
            height:100%;
            width:100%;
            top:0px;
            -webkit-transform: translateY(calc(100% - 95px));
                    transform: translateY(calc(100% - 95px));
            -webkit-transition:-webkit-transform .5s ease-in-out;
            transition:-webkit-transform .5s ease-in-out;
            transition:transform .5s ease-in-out;
            transition: transform .5s ease-in-out, -webkit-transform .5s ease-in-out;
        }
        
        :host.ativo{
            -webkit-transform: translateY(0px);
                    transform: translateY(0px);
        }
        
    
        .barra{
            display:block;
            position:absolute;
            top:0px;
            width:100%;
            height:95px;
            
            box-sizing:border-box;
            
            border-top:2px solid transparent;
            border-bottom:2px solid #e86623;
            
            -webkit-transition:border-bottom .5s ease-in-out;
            
            transition: border-bottom .5s ease-in-out;
            text-align:center;
        }
        
        :host.ativo .barra{
            border-top:2px solid #e86623;
            border-bottom:2px solid transparent;
        }
        
        
        .barra .seta{
            cursor:pointer;
            margin-top:25px;
            margin-bottom:25px;
            width:45px;
            height:45px;
            display:inline-block;
            background-image:url(../assets/images/shared/seta.png);
            background-size:cover;
            background-repeat: no-repeat;
            -webkit-transition:-webkit-transform .5s ease-in-out;
            transition:-webkit-transform .5s ease-in-out;
            transition:transform .5s ease-in-out;
            transition: transform .5s ease-in-out, -webkit-transform .5s ease-in-out;
        }
        
        :host.ativo .barra .seta{
            -webkit-transform: rotate(180deg);
                    transform: rotate(180deg);
        }
        
        .container{
            display:block;
            position:absolute;
            width:100%;
            height:100%;
            background-color:rgba(0,255,0,.5);
            -webkit-transform: translateY(95px);
                    transform: translateY(95px);
            -webkit-transition:-webkit-transform .5s ease-in-out;
            transition:-webkit-transform .5s ease-in-out;
            transition:transform .5s ease-in-out;
            transition: transform .5s ease-in-out, -webkit-transform .5s ease-in-out;
            
            background-image:  var(--meu-bg);
            background-size:  cover;
            background-position:  center center;
            background-repeat:  no-repeat;
        }
        
        :host.ativo .container{
            -webkit-transform: translateY(0px);
                    transform: translateY(0px);
        }
        
        
        @media (max-width:768px){
            :host{
                -webkit-transform: translateY(calc(100% - 60px));
                        transform: translateY(calc(100% - 60px));
            }
            
            .barra{
                height:60px;
            }
            
            .barra .seta{
                margin-top:15px;
                margin-bottom:15px;
                width:30px;
                height:30px;
            }
        }

    </style>
    

    
   <template>
        <div class="container">
            <content select=".subContent"></content>
        </div>
        <div class="barra">
            <div class="seta" on-tap="meuTap"></div>
        </div>
   </template>
    
</dom-module>

<script>
    Polymer({
        is: "sub-pagina",
    
        properties: {
            meuBg:{
                type:String,
                observer:"updateEstilos"
            },
        },
        
        meuTap:function(){
            this.classList.toggle("ativo")
        },

        ready:function(){
            if(this.meuBg!=undefined){
                this.updateEstilos();
            }
        },

        updateEstilos:function(){
            this.customStyle['--meu-bg'] = "url("+this.meuBg+")";
            this.updateStyles();
        },
    });
</script>